<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Table22 - Weekly GTM Dashboard</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Inter', sans-serif; background-color: #f8fafc; }
    </style>
</head>
<body class="text-slate-800">

    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
        
        <!-- Header -->
        <div class="flex flex-col md:flex-row justify-between items-start md:items-center mb-8 pb-6 border-b border-slate-200">
            <div>
                <h1 class="text-3xl font-bold text-slate-900">Weekly GTM Pulse</h1>
                <p class="text-slate-500 mt-1">Data Source: HubSpot | Period: Dec 16-22</p>
            </div>
            <div class="mt-4 md:mt-0 flex gap-3">
                <div class="px-4 py-2 bg-white border border-slate-200 rounded-lg shadow-sm">
                    <span class="text-xs font-bold text-slate-400 uppercase block">Total Pipeline</span>
                    <span class="font-bold text-indigo-600">$328,500</span>
                </div>
                <div class="px-4 py-2 bg-indigo-600 rounded-lg shadow-sm text-white">
                    <span class="text-xs font-bold text-indigo-200 uppercase block">Avg Deal Size</span>
                    <span class="font-bold">$5,214</span>
                </div>
            </div>
        </div>

        <!-- KPI Cards -->
        <div class="grid grid-cols-1 md:grid-cols-4 gap-6 mb-8">
            
            <!-- Card 1: Sales Velocity -->
            <div class="bg-white p-6 rounded-xl shadow-sm border border-slate-100 relative overflow-hidden group hover:shadow-md transition-shadow">
                <div class="absolute top-0 right-0 w-1 h-full bg-blue-500"></div>
                <div class="flex justify-between items-start mb-4">
                    <div>
                        <p class="text-xs font-bold text-slate-400 uppercase tracking-wider">Sales Velocity</p>
                        <h3 class="text-2xl font-bold text-slate-900 mt-1">$42.5k<span class="text-sm font-normal text-slate-500">/mo</span></h3>
                    </div>
                    <div class="p-2 bg-blue-50 text-blue-600 rounded-lg">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z" /></svg>
                    </div>
                </div>
                <p class="text-xs text-green-600 font-medium flex items-center">
                    <svg class="w-3 h-3 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"></path></svg>
                    +12% vs last month
                </p>
            </div>

            <!-- Card 2: Top Vertical -->
            <div class="bg-white p-6 rounded-xl shadow-sm border border-slate-100 relative overflow-hidden group hover:shadow-md transition-shadow">
                <div class="absolute top-0 right-0 w-1 h-full bg-indigo-500"></div>
                <div class="flex justify-between items-start mb-4">
                    <div>
                        <p class="text-xs font-bold text-slate-400 uppercase tracking-wider">Top Vertical</p>
                        <h3 class="text-2xl font-bold text-slate-900 mt-1">Wine Shops</h3>
                    </div>
                    <div class="p-2 bg-indigo-50 text-indigo-600 rounded-lg">
                         <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z" /></svg>
                    </div>
                </div>
                <p class="text-sm text-slate-500 font-medium">$156,000 Pipeline Value</p>
            </div>

            <!-- Card 3: Days in Stage -->
            <div class="bg-white p-6 rounded-xl shadow-sm border border-slate-100 relative overflow-hidden group hover:shadow-md transition-shadow">
                <div class="absolute top-0 right-0 w-1 h-full bg-amber-500"></div>
                <div class="flex justify-between items-start mb-4">
                    <div>
                        <p class="text-xs font-bold text-slate-400 uppercase tracking-wider">Avg Days in Stage</p>
                        <h3 class="text-2xl font-bold text-slate-900 mt-1">8.2 Days</h3>
                    </div>
                    <div class="p-2 bg-amber-50 text-amber-600 rounded-lg">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" /></svg>
                    </div>
                </div>
                <p class="text-xs text-green-600 font-medium flex items-center">
                    <svg class="w-3 h-3 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 14l-7 7m0 0l-7-7m7 7V3"></path></svg>
                    -0.9 days vs last week
                </p>
            </div>

            <!-- Card 4: Lead-to-Opp Rate -->
            <div class="bg-white p-6 rounded-xl shadow-sm border border-slate-100 relative overflow-hidden group hover:shadow-md transition-shadow">
                <div class="absolute top-0 right-0 w-1 h-full bg-emerald-500"></div>
                <div class="flex justify-between items-start mb-4">
                    <div>
                        <p class="text-xs font-bold text-slate-400 uppercase tracking-wider">Lead-to-Opp Rate</p>
                        <h3 class="text-2xl font-bold text-slate-900 mt-1">45%</h3>
                    </div>
                    <div class="p-2 bg-emerald-50 text-emerald-600 rounded-lg">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z" /></svg>
                    </div>
                </div>
                <p class="text-sm text-slate-500 font-medium">Top Channel: Partners (62%)</p>
            </div>
        </div>

        <!-- Main Charts Area -->
        <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8">
            
            <!-- Pipeline Chart -->
            <div class="bg-white p-6 rounded-xl shadow-sm border border-slate-100">
                <h3 class="text-sm font-bold text-slate-800 mb-6 uppercase tracking-wider border-b pb-4">Pipeline by Vertical</h3>
                <div class="h-64 relative">
                    <canvas id="pipelineChart"></canvas>
                </div>
            </div>

            <!-- Lead Source Efficiency Chart (New Request) -->
            <div class="bg-white p-6 rounded-xl shadow-sm border border-slate-100">
                <div class="flex justify-between items-center mb-6 border-b pb-4">
                    <h3 class="text-sm font-bold text-slate-800 uppercase tracking-wider">Lead-to-Opp by Channel</h3>
                    <span class="text-xs bg-slate-100 px-2 py-1 rounded text-slate-500">Strategic Insight</span>
                </div>
                <div class="h-64 relative">
                    <canvas id="sourceChart"></canvas>
                </div>
            </div>

        </div>

        <!-- Funnel Section -->
        <div class="bg-white p-6 rounded-xl shadow-sm border border-slate-100 mb-8">
            <h3 class="text-sm font-bold text-slate-800 mb-6 uppercase tracking-wider border-b pb-4">Full Funnel Conversion</h3>
            <div class="h-64 relative">
                <canvas id="funnelChart"></canvas>
            </div>
        </div>

        <!-- BDR Table -->
        <div class="bg-white p-6 rounded-xl shadow-sm border border-slate-100">
            <h3 class="text-sm font-bold text-slate-800 mb-4 uppercase tracking-wider">BDR Performance</h3>
            <div class="overflow-x-auto">
                <table class="w-full text-left text-sm">
                    <thead>
                        <tr class="text-slate-500 border-b border-slate-200">
                            <th class="pb-3 font-medium">Rep Name</th>
                            <th class="pb-3 text-center">Calls</th>
                            <th class="pb-3 text-center">Emails</th>
                            <th class="pb-3 text-center">Meetings</th>
                            <th class="pb-3 text-center">Qualified Leads</th>
                            <th class="pb-3 text-right">Efficiency</th>
                        </tr>
                    </thead>
                    <tbody class="divide-y divide-slate-100">
                        <tr class="hover:bg-slate-50">
                            <td class="py-3 font-medium text-slate-900">Sarah M. <span class="ml-2 text-[10px] bg-green-100 text-green-700 px-2 py-0.5 rounded-full">Top Performer</span></td>
                            <td class="py-3 text-center text-slate-600">85</td>
                            <td class="py-3 text-center text-slate-600">120</td>
                            <td class="py-3 text-center font-bold text-indigo-600">12</td>
                            <td class="py-3 text-center text-slate-900">8</td>
                            <td class="py-3 text-right font-mono">10.0%</td>
                        </tr>
                        <tr class="hover:bg-slate-50">
                            <td class="py-3 font-medium text-slate-900">James K.</td>
                            <td class="py-3 text-center text-slate-600">72</td>
                            <td class="py-3 text-center text-slate-600">95</td>
                            <td class="py-3 text-center font-bold text-indigo-600">9</td>
                            <td class="py-3 text-center text-slate-900">6</td>
                            <td class="py-3 text-right font-mono">9.4%</td>
                        </tr>
                        <tr class="hover:bg-slate-50">
                            <td class="py-3 font-medium text-slate-900">Mike R. <span class="ml-2 text-[10px] bg-blue-100 text-blue-700 px-2 py-0.5 rounded-full">High Efficiency</span></td>
                            <td class="py-3 text-center text-slate-600">68</td>
                            <td class="py-3 text-center text-slate-600">88</td>
                            <td class="py-3 text-center font-bold text-indigo-600">11</td>
                            <td class="py-3 text-center text-slate-900">7</td>
                            <td class="py-3 text-right font-mono">10.9%</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <div class="mt-8 text-center text-slate-400 text-sm">
            Generated for Table22 RevOps Assessment by Islam Badr
        </div>

    </div>

    <script>
        // Chart 1: Pipeline by Vertical
        const ctxPipeline = document.getElementById('pipelineChart').getContext('2d');
        new Chart(ctxPipeline, {
            type: 'bar',
            data: {
                labels: ['Wine Merchants', 'Butcher Shops', 'Cheese/Bakery', 'Restaurants'],
                datasets: [{
                    label: 'Pipeline Value ($)',
                    data: [156000, 82500, 54000, 36000],
                    backgroundColor: ['#4f46e5', '#ec4899', '#f59e0b', '#10b981'],
                    borderRadius: 4
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: { legend: { display: false } },
                scales: {
                    y: { beginAtZero: true, grid: { color: '#f1f5f9' }, ticks: { callback: v => '$' + v/1000 + 'k' } },
                    x: { grid: { display: false } }
                }
            }
        });

        // Chart 2: Lead Source Efficiency (New Request)
        const ctxSource = document.getElementById('sourceChart').getContext('2d');
        new Chart(ctxSource, {
            type: 'bar',
            data: {
                labels: ['Partner Referral', 'PLG Tool', 'Cold Outbound', 'Events'],
                datasets: [{
                    label: 'Lead-to-Opportunity Conversion Rate (%)',
                    data: [62, 45, 18, 22],
                    backgroundColor: '#3b82f6',
                    borderRadius: 4
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                indexAxis: 'y', // Horizontal Bar Chart
                plugins: { legend: { display: false } },
                scales: {
                    x: { beginAtZero: true, max: 100, grid: { color: '#f1f5f9' }, ticks: { callback: v => v + '%' } },
                    y: { grid: { display: false } }
                }
            }
        });

        // Chart 3: Funnel Conversion
        const ctxFunnel = document.getElementById('funnelChart').getContext('2d');
        new Chart(ctxFunnel, {
            type: 'line',
            data: {
                labels: ['New Lead', 'Qualified', 'Discovery', 'Demo', 'Negotiation', 'Won'],
                datasets: [{
                    label: 'Conversion Rate',
                    data: [100, 45, 61, 66, 64, 61],
                    borderColor: '#10b981',
                    backgroundColor: 'rgba(16, 185, 129, 0.1)',
                    borderWidth: 2,
                    fill: true,
                    tension: 0.4
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: { legend: { display: false } },
                scales: {
                    y: { beginAtZero: true, max: 100, grid: { color: '#f1f5f9' }, ticks: { callback: v => v + '%' } },
                    x: { grid: { display: false } }
                }
            }
        });
    </script>
</body>
</html>
